<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title></title>
	<link rel="stylesheet" href="../../css/style-frame.css">
</head>
<body>
<section id="inicio" class="bloco bloco12 limpa">
	<article>
		<div class="limpa">
			<h1>Primeira etapa - Esboço</h1>
			<h3>Um esboço do projeto</h3>
			<p>Meu primeiro esboço se resume a um diagrama que apresenta as entidades que trabalhei e suas interações entre si e com os seus dados.</p>

			<p>Como pode ser visto, a entidade "interface" não possui comunicação direta com as demais entidades, ela apenas manipula os dados dos serviços que estão salvos em disco. Os dados dos serviços são gerenciados pela "interface" e manipulados pelo "services" e pela função "main".</p>

			<p>A função "main" é o alicerce dessa aplicação, ela está sempre em execução e é responsável por checar os serviços e seus estados, executando cada serviço em uma thread independente, se o serviço estiver em estado de "running". O termo "running" determina o estado ativo do serviço, assim como "stop" determina sua interrupção. O estado "wait" é especial, pois nesse estado o serviço estará ativo mais não está sendo executado.</p>

			<p>Os serviços são iniciados pela função "main" em diferentes threds, cada thread é independente da outra e cada serviço se autogerencia enquando "main" estiver em execução.</p>

			<img class="figura1 bordas" src="../../img/python/imgpy01-diag_MER-min.png" alt="Figura 1. - MER" title="Figura 1. - MER">
		</div>
		<hr/>
		<div class="limpa">
			<p>No diagrama da Figura 2. temos um detalhamento de como a "interface" funciona. Com a ela é possível gerenciar os dados dos serviços criados. Ou seja, é possível criar, deletar e alterar as definições de cada serviço ou interromper a função "main" parando todos os serviços.</p>
			<img class="bordas" src="../../img/python/imgpy02-diag_interface-min.png" alt="Figura 2. - interface" title="Figura 2. - interface">
		</div>
		<hr/>
		<div class="limpa">
			<p>Reescrevi esse diagrama algumas vezes tentando imaginar a melhor maneira de interação entre a função "main" e a entidade "services". Neste diagrama, proponho que quando a função "main" for iniciada, ela acessará os dados de cada serviço e iniciará aquele que estive em estado "running" ou "wait".</p>

			<p>O diagrama ainda mostra que os serviços não se comunicam com a função "main". Quando um serviço é iniciado ele fica acessando seus dados gravados em disco, verificando se alguma alteração foi feita.</p>
			<img class="bordas" src="../../img/python/imgpy03-diag_main_service-min.png" alt="Figura 3. - Serviço" title="Figura 3. - Serviço">

			<p>Através desses diagramas foi possível ter uma ideia de como o programa funcionaria e como deveria ser implementado.</p>
		</div>
	</article>
</section>
</body>
</html>